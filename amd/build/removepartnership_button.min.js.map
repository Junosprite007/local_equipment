{"version":3,"file":"removepartnership_button.min.js","sources":["../src/removepartnership_button.js"],"sourcesContent":["// This file is part of FLIP Plugins for Moodle\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <https://www.gnu.org/licenses/>.\n\n/**\n * JavaScript for updating partnership headers in the add partnerships form.\n *\n * @module      local_equipment/deletepartnership_button\n * @copyright   2024 onward Joshua Kirby <josh@funlearningcompany.com>\n * @author      Joshua Kirby - CTO @ Fun Learning Company - funlearningcompany.com\n * @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine([\"jquery\"], function ($) {\n    alert(\"You cannot delete the first partnership.\");\n    return {\n        init: function () {\n            $(document).ready(function () {\n                // Add event listeners to delete buttons.\n                $(\".delete-button\").on(\"click\", function (event) {\n                    // Prevent deletion of the first element.\n                    var elementIndex = $(this).attr(\"name\").match(/\\d+/)[0];\n                    if (elementIndex == 0) {\n                        alert(\"You cannot delete the first partnership.\");\n                        return event;\n                    }\n\n                    // Find the parent element to remove.\n                    var parentElement = $(this).closest(\"fieldset\");\n                    if (parentElement) {\n                        parentElement.remove();\n                    }\n                });\n            });\n        },\n    };\n});\n"],"names":["define","$","alert","init","document","ready","on","event","this","attr","match","parentElement","closest","remove"],"mappings":";;;;;;;;AAuBAA,kDAAO,CAAC,WAAW,SAAUC,UACzBC,MAAM,4CACC,CACHC,KAAM,WACFF,EAAEG,UAAUC,OAAM,WAEdJ,EAAE,kBAAkBK,GAAG,SAAS,SAAUC,UAGlB,GADDN,EAAEO,MAAMC,KAAK,QAAQC,MAAM,OAAO,UAEjDR,MAAM,4CACCK,UAIPI,cAAgBV,EAAEO,MAAMI,QAAQ,YAChCD,eACAA,cAAcE"}